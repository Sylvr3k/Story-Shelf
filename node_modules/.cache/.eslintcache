[{"C:\\Users\\Administrator\\Desktop\\React\\projectimpoapp\\src\\index.js":"1","C:\\Users\\Administrator\\Desktop\\React\\projectimpoapp\\src\\App.js":"2","C:\\Users\\Administrator\\Desktop\\React\\projectimpoapp\\src\\reportWebVitals.js":"3","C:\\Users\\Administrator\\Desktop\\React\\projectimpoapp\\src\\pages\\Navbar.js":"4","C:\\Users\\Administrator\\Desktop\\React\\projectimpoapp\\src\\pages\\Home.js":"5","C:\\Users\\Administrator\\Desktop\\React\\projectimpoapp\\src\\pages\\Shop.js":"6","C:\\Users\\Administrator\\Desktop\\React\\projectimpoapp\\src\\pages\\Footer.js":"7","C:\\Users\\Administrator\\Desktop\\React\\projectimpoapp\\src\\pages\\card.js":"8","C:\\Users\\Administrator\\Desktop\\React\\projectimpoapp\\src\\pages\\SignUp.js":"9","C:\\Users\\Administrator\\Desktop\\React\\projectimpoapp\\src\\pages\\LogIn.js":"10","C:\\Users\\Administrator\\Desktop\\React\\projectimpoapp\\src\\pages\\Cart.js":"11","C:\\Users\\Administrator\\Desktop\\React\\projectimpoapp\\src\\pages\\Profile.js":"12","C:\\Users\\Administrator\\Desktop\\React\\projectimpoapp\\src\\pages\\UserContext.js":"13"},{"size":609,"mtime":1726007620508,"results":"14","hashOfConfig":"15"},{"size":2211,"mtime":1726007995702,"results":"16","hashOfConfig":"15"},{"size":362,"mtime":1694641640211,"results":"17","hashOfConfig":"15"},{"size":2285,"mtime":1722928989093,"results":"18","hashOfConfig":"15"},{"size":1113,"mtime":1722438006136,"results":"19","hashOfConfig":"15"},{"size":3936,"mtime":1726048418981,"results":"20","hashOfConfig":"15"},{"size":2208,"mtime":1725900903980,"results":"21","hashOfConfig":"15"},{"size":629,"mtime":1725900455962,"results":"22","hashOfConfig":"15"},{"size":4248,"mtime":1722944431447,"results":"23","hashOfConfig":"15"},{"size":2772,"mtime":1725901027347,"results":"24","hashOfConfig":"15"},{"size":1229,"mtime":1725993089451,"results":"25","hashOfConfig":"15"},{"size":6386,"mtime":1722455936080,"results":"26","hashOfConfig":"15"},{"size":1185,"mtime":1725901963121,"results":"27","hashOfConfig":"15"},{"filePath":"28","messages":"29","suppressedMessages":"30","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"19l333y",{"filePath":"31","messages":"32","suppressedMessages":"33","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"34","messages":"35","suppressedMessages":"36","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"37"},{"filePath":"38","messages":"39","suppressedMessages":"40","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":1,"source":"41"},{"filePath":"42","messages":"43","suppressedMessages":"44","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"45","messages":"46","suppressedMessages":"47","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"48","messages":"49","suppressedMessages":"50","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"51","messages":"52","suppressedMessages":"53","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"54"},{"filePath":"55","messages":"56","suppressedMessages":"57","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"58","messages":"59","suppressedMessages":"60","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"61","messages":"62","suppressedMessages":"63","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"64","messages":"65","suppressedMessages":"66","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"67"},{"filePath":"68","messages":"69","suppressedMessages":"70","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\Administrator\\Desktop\\React\\projectimpoapp\\src\\index.js",[],[],"C:\\Users\\Administrator\\Desktop\\React\\projectimpoapp\\src\\App.js",[],[],"C:\\Users\\Administrator\\Desktop\\React\\projectimpoapp\\src\\reportWebVitals.js",[],[],[],"C:\\Users\\Administrator\\Desktop\\React\\projectimpoapp\\src\\pages\\Navbar.js",["71","72"],[],"import React, { useContext, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { UserContext } from './UserContext';\r\nimport defaultProfilePic from './defaultProfilePic.jpg';\r\n\r\nfunction Navbar() {\r\n  const { user } = useContext(UserContext);\r\n  const [preview, setPreview] = useState(null);\r\n\r\n  return (\r\n    // The Beginning of the nav-bar\r\n    <nav className=\"navbar navbar-expand-sm navbar-light\" id=\"navbar\">\r\n      <div className=\"container d-flex\">\r\n        <Link to=\"/Home\" className=\"S-Icon navbar-brand\">\r\n          <img src=\"letter-s lighter1.png\" height=\"30px\" width=\"30px\" alt=\"Logo\" />\r\n        </Link>\r\n        <button className=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarNavDropdown\" aria-controls=\"navbarNavDropdown\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n          <span className=\"navbar-toggler-icon\"></span>\r\n        </button>\r\n\r\n        <div className=\"collapse navbar-collapse\" id=\"navbarNavDropdown\">\r\n          <ul className=\"navbar-nav ms-auto\">\r\n            <li className=\"bashThree nav-item\">\r\n              <Link to=\"/Home\" className=\"nav-link mx-2\" activeClassName=\"active\">\r\n                Home\r\n              </Link>\r\n            </li>\r\n            <li className=\"bashTwo nav-item\">\r\n              <Link to=\"/Cart\" className=\"nav-link mx-2\" activeClassName=\"active\">\r\n                Cart\r\n              </Link>\r\n            </li>\r\n            <li className=\"bashOne nav-item\">\r\n              <Link to=\"/Shop\" className=\"nav-link mx-2\" activeClassName=\"active\">\r\n                Shop\r\n              </Link>\r\n            </li>\r\n            {user && (\r\n              <li className=\"bash nav-item d-flex align-items-center\">\r\n                <Link to=\"/Profile\" className=\"nav-link mx-2\" activeClassName=\"active\">\r\n                  <img src={user.profilePicture ? `data:image/jpg;base64,${user.profilePicture}` : preview || defaultProfilePic} alt=\"Profile\" className=\"rounded-circle me-2\" style={{ height: '50px', width: '50px', objectFit: 'cover' }}/>\r\n                  {user. firstname}\r\n                </Link>\r\n              </li>\r\n            )}\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </nav>\r\n    // The end of the nav-bar\r\n  );\r\n}\r\n\r\nexport default Navbar;","C:\\Users\\Administrator\\Desktop\\React\\projectimpoapp\\src\\pages\\Home.js",[],[],"C:\\Users\\Administrator\\Desktop\\React\\projectimpoapp\\src\\pages\\Shop.js",[],[],"C:\\Users\\Administrator\\Desktop\\React\\projectimpoapp\\src\\pages\\Footer.js",[],[],"C:\\Users\\Administrator\\Desktop\\React\\projectimpoapp\\src\\pages\\card.js",["73"],[],"import React from \"react\";\r\n\r\n// The card used to make the book sales in the shop component\r\nconst Card = ({ pic, title, para, price, children }) => {\r\n     return(\r\n         <>\r\n        <div className=\"card\" style={{width: '18rem'}}>\r\n             <img className=\"card-img-top\" src={pic} alt=\"Card image cap\"/>\r\n             <div className=\"card-body\">\r\n               <h5 className=\"card-title\">{title}</h5>\r\n               <p className=\"card-text\">{para}</p>\r\n               <p className=\"card-mash\">{price}</p>\r\n               {children}\r\n             </div>\r\n        </div>\r\n         </>\r\n     )\r\n}\r\n\r\nexport default Card;\r\n","C:\\Users\\Administrator\\Desktop\\React\\projectimpoapp\\src\\pages\\SignUp.js",[],[],"C:\\Users\\Administrator\\Desktop\\React\\projectimpoapp\\src\\pages\\LogIn.js",[],[],"C:\\Users\\Administrator\\Desktop\\React\\projectimpoapp\\src\\pages\\Cart.js",[],[],"C:\\Users\\Administrator\\Desktop\\React\\projectimpoapp\\src\\pages\\Profile.js",["74","75"],[],"import React, { useState, useEffect, useContext } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport Footer from \"./Footer\";\r\nimport { UserContext } from \"./UserContext\";\r\n\r\nfunction Profile() {\r\n  const { user, setUser } = useContext(UserContext);\r\n  const [formData, setFormData] = useState({\r\n    firstname: '',\r\n    lastname: '',\r\n    gender: '',\r\n    date: '',\r\n    address: '',\r\n    profilePicture: null,\r\n  });\r\n\r\n  const [preview, setPreview] = useState(null);\r\n  const [errorMessage, setErrorMessage] = useState('');\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const fetchUserDetails = async () => {\r\n      try {\r\n        const token = localStorage.getItem('token');\r\n        if (!token) {\r\n          throw new Error('No token found');\r\n        }\r\n\r\n        const response = await fetch('http://localhost:5009/user/profile', {\r\n          method: 'GET',\r\n          headers: {\r\n            'Authorization': `Bearer ${token}`,\r\n          },\r\n        });\r\n\r\n        if (response.ok) {\r\n          const data = await response.json();\r\n          setFormData({\r\n            firstname: data.firstname || '',\r\n            lastname: data.lastname || '',\r\n            gender: data.gender || '',\r\n            date: data.date ? data.date.split('T')[0] : '',\r\n            address: data.address || '',\r\n            profilePicture: data.profilePicture || null,\r\n          });\r\n          setPreview(data.profilePicture ? `data:image/png;base64,${data.profilePicture}` : null);\r\n          setUser(data); // Update user context\r\n        } else {\r\n          const errorData = await response.json();\r\n          setErrorMessage(errorData.message || 'Failed to fetch user details.');\r\n        }\r\n      } catch (error) {\r\n        setErrorMessage(error.message || 'Error fetching user details.');\r\n      }\r\n    };\r\n\r\n    fetchUserDetails();\r\n  }, [setUser]);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData(prevState => ({\r\n      ...prevState,\r\n      [name]: value,\r\n    }));\r\n  };\r\n\r\n  const handlePictureUpload = (event) => {\r\n    const file = event.target.files[0];\r\n    if (file) {\r\n      setFormData(prevState => ({\r\n        ...prevState,\r\n        profilePicture: file,\r\n      }));\r\n      const reader = new FileReader();\r\n      reader.onloadend = () => {\r\n        setPreview(reader.result);\r\n      };\r\n      reader.readAsDataURL(file);\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const formDataToSubmit = new FormData();\r\n      for (const key in formData) {\r\n        if (key === 'profilePicture' && formData[key]) {\r\n          formDataToSubmit.append(key, formData[key], formData[key].name);\r\n        } else {\r\n          formDataToSubmit.append(key, formData[key]);\r\n        }\r\n      }\r\n\r\n      const response = await fetch('http://localhost:5009/user/profile', {\r\n        method: 'PUT',\r\n        headers: {\r\n          'Authorization': `Bearer ${localStorage.getItem('token')}`,\r\n        },\r\n        body: formDataToSubmit,\r\n      });\r\n\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setErrorMessage('');\r\n        setUser(data); // Update user context\r\n        navigate('/Home');\r\n      } else {\r\n        const errorData = await response.json();\r\n        setErrorMessage('Failed to update profile.');\r\n      }\r\n    } catch (error) {\r\n      setErrorMessage('An error occurred. Please try again.');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"Profile\">\r\n        <form className=\"FormProfile\" onSubmit={handleSubmit}>\r\n          <div className=\"profile-picture-upload\">\r\n            <div className=\"profile-picture-preview\">\r\n              {preview ? (\r\n                <img src={preview} alt=\"Profile Preview\" />\r\n              ) : (\r\n                <div className=\"placeholder\">No Image</div>\r\n              )}\r\n            </div>\r\n            <div className=\"upload-container\">\r\n              <input type=\"file\" id=\"file-input\" onChange={handlePictureUpload} />\r\n              <label htmlFor=\"file-input\">\r\n                {formData.profilePicture ? \"Change Photo\" : \"Add Photo\"}\r\n              </label>\r\n            </div>\r\n          </div>\r\n           <div className=\"HWT\">\r\n              <div className=\"Inline\">\r\n                  <div className=\"form-group\">\r\n                    <label>First Name</label>\r\n                    <input type=\"text\" name=\"firstname\" className=\"form-control\" id=\"firstname\" placeholder=\"First Name\" required value={formData.firstname} onChange={handleChange}/>\r\n                  </div>\r\n                  <div className=\"form-group\">\r\n                  <label>Last Name</label>\r\n                    <input type=\"text\" name=\"lastname\" className=\"form-control\" id=\"lastname\" placeholder=\"Last Name\" required value={formData.lastname} onChange={handleChange}/>\r\n                  </div>\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label>Select Your Gender</label>\r\n                <select className=\"form-control\" name=\"gender\" required value={formData.gender} onChange={handleChange}>\r\n                  <option value=\"\" disabled>\r\n                    Select Your Gender\r\n                  </option>\r\n                  <option value=\"Male\">Male</option>\r\n                  <option value=\"Female\">Female</option>\r\n                </select>\r\n              </div>\r\n              <div className=\"date\">\r\n               <div className=\"birth\">\r\n                <label>Birth Date</label>\r\n                <input type=\"date\" required name=\"date\" className=\"dateGo\" id=\"dateExample\" value={formData.date} onChange={handleChange}/>\r\n               </div>\r\n               <div className=\"Add\">\r\n                <label>Address</label>\r\n                <input type=\"text\" required name=\"address\" className=\"form-control\" id=\"addressname\" aria-describedby=\"adresshelp\" placeholder=\"Address\" value={formData.address} onChange={handleChange}/>\r\n               </div>\r\n              </div>\r\n              <div className=\"Bear\">\r\n                <div className=\"BearH\">    \r\n                  {errorMessage && <p id=\"jaypara\">{errorMessage}</p>}\r\n                </div>\r\n                <button type=\"submit\">Save</button>\r\n              </div>\r\n           </div>\r\n         </form>\r\n      </div>\r\n      <Footer />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Profile;","C:\\Users\\Administrator\\Desktop\\React\\projectimpoapp\\src\\pages\\UserContext.js",[],[],{"ruleId":"76","severity":1,"message":"77","line":8,"column":19,"nodeType":"78","messageId":"79","endLine":8,"endColumn":29},{"ruleId":"80","severity":1,"message":"81","line":42,"column":20,"nodeType":"82","messageId":"83","endLine":42,"endColumn":35,"fix":"84"},{"ruleId":"85","severity":1,"message":"86","line":8,"column":14,"nodeType":"87","endLine":8,"endColumn":76},{"ruleId":"76","severity":1,"message":"88","line":7,"column":11,"nodeType":"78","messageId":"79","endLine":7,"endColumn":15},{"ruleId":"76","severity":1,"message":"89","line":109,"column":15,"nodeType":"78","messageId":"79","endLine":109,"endColumn":24},"no-unused-vars","'setPreview' is assigned a value but never used.","Identifier","unusedVar","no-whitespace-before-property","Unexpected whitespace before property firstname.","MemberExpression","unexpectedWhitespace",{"range":"90","text":"91"},"jsx-a11y/img-redundant-alt","Redundant alt attribute. Screen-readers already announce `img` tags as an image. You don’t need to use the words `image`, `photo,` or `picture` (or any specified custom words) in the alt prop.","JSXOpeningElement","'user' is assigned a value but never used.","'errorData' is assigned a value but never used.",[2086,2088],"."]