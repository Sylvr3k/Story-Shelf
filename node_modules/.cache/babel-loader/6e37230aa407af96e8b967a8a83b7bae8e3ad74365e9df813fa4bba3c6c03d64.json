{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Administrator/Desktop/React/projectimpoapp/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Administrator/Desktop/React/projectimpoapp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"C:/Users/Administrator/Desktop/React/projectimpoapp/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/Administrator/Desktop/React/projectimpoapp/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/Administrator/Desktop/React/projectimpoapp/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{Link,useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Signup(){var _ref;var _useState=useState({firstname:'',lastname:'',gender:'',date:'',address:'',email:'',password:''}),_useState2=_slicedToArray(_useState,2),formData=_useState2[0],setFormData=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),errorMessage=_useState4[0],setErrorMessage=_useState4[1];var navigate=useNavigate();var handleChange=function handleChange(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;setFormData(_objectSpread(_objectSpread({},formData),{},_defineProperty({},name,value)));};var handleSubmit=function handleSubmit(_x){return(_ref=_ref||_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var response,errorData;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();_context.prev=1;_context.next=4;return fetch('http://localhost:5009/user',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(formData)});case 4:response=_context.sent;if(!response.ok){_context.next=11;break;}console.log('User registered successfully');setErrorMessage('');navigate('/');_context.next=16;break;case 11:_context.next=13;return response.json();case 13:errorData=_context.sent;console.error('Failed to register user',errorData);setErrorMessage(\"Failed to register user.\");case 16:_context.next=22;break;case 18:_context.prev=18;_context.t0=_context[\"catch\"](1);console.error('Error:',_context.t0);setErrorMessage(\"The Email you've Entered Is Already In Use.\");case 22:case\"end\":return _context.stop();}},_callee,null,[[1,18]]);}))).apply(this,arguments);};return/*#__PURE__*/_jsx(\"div\",{className:\"OuterForm\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"FormSign\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"div\",{className:\"Picon\",children:/*#__PURE__*/_jsx(\"h2\",{children:\"Register to StoryShelf\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"Inline\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"firstname\",className:\"form-control\",id:\"firstname\",placeholder:\"First Name\",required:true,value:formData.firstname,onChange:handleChange})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"lastname\",className:\"form-control\",id:\"lastname\",placeholder:\"Last Name\",required:true,value:formData.lastname,onChange:handleChange})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsxs(\"select\",{className:\"form-control\",name:\"gender\",required:true,value:formData.gender,onChange:handleChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",disabled:true,children:\"Select Your Gender\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Male\",children:\"Male\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Female\",children:\"Female\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"date\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"date\",required:true,name:\"date\",className:\"dateGo\",id:\"dateExample\",value:formData.date,onChange:handleChange}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",required:true,name:\"address\",className:\"form-control\",id:\"addressname\",\"aria-describedby\":\"adresshelp\",placeholder:\"Address\",value:formData.address,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"EmandPas\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"email\",required:true,name:\"email\",className:\"form-control\",id:\"exampleInputEmail1\",\"aria-describedby\":\"emailHelp\",placeholder:\"Enter email\",value:formData.email,onChange:handleChange}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",required:true,name:\"password\",className:\"form-control\",id:\"exampleInputPassword\",placeholder:\"Password\",value:formData.password,onChange:handleChange})]}),/*#__PURE__*/_jsx(\"div\",{className:\"Jaype\",children:errorMessage&&/*#__PURE__*/_jsx(\"p\",{id:\"jaypara\",children:errorMessage})}),/*#__PURE__*/_jsxs(\"div\",{className:\"Inline\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Sign Up\"}),/*#__PURE__*/_jsxs(\"p\",{id:\"btnext3\",children:[\"Already have an Account? \",/*#__PURE__*/_jsx(Link,{to:\"/\",activeClassName:\"active\",children:\"Log In\"})]})]})]})});}export default Signup;","map":{"version":3,"names":["React","useState","Link","useNavigate","jsx","_jsx","jsxs","_jsxs","Signup","_ref","_useState","firstname","lastname","gender","date","address","email","password","_useState2","_slicedToArray","formData","setFormData","_useState3","_useState4","errorMessage","setErrorMessage","navigate","handleChange","e","_e$target","target","name","value","_objectSpread","_defineProperty","handleSubmit","_x","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","errorData","wrap","_callee$","_context","prev","next","preventDefault","fetch","method","headers","body","JSON","stringify","sent","ok","console","log","json","error","t0","stop","apply","arguments","className","children","onSubmit","type","id","placeholder","required","onChange","disabled","to","activeClassName"],"sources":["C:/Users/Administrator/Desktop/React/projectimpoapp/src/pages/SignUp.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\n\r\nfunction Signup() {\r\n    const [formData, setFormData] = useState({\r\n        firstname: '',\r\n        lastname: '',\r\n        gender: '',\r\n        date: '',\r\n        address: '',\r\n        email: '',\r\n        password: '',\r\n    });\r\n\r\n    const [errorMessage, setErrorMessage] = useState('');\r\n    const navigate = useNavigate(); \r\n\r\n    const handleChange = (e) => {\r\n        const { name, value } = e.target;\r\n        setFormData({\r\n            ...formData,\r\n            [name]: value,\r\n        });\r\n    };\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        try {\r\n            const response = await fetch('http://localhost:5009/user', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                },\r\n                body: JSON.stringify(formData),\r\n            });\r\n\r\n            if (response.ok) {\r\n                console.log('User registered successfully');\r\n                setErrorMessage('');\r\n                navigate('/');\r\n            } else {\r\n                const errorData = await response.json();\r\n                console.error('Failed to register user', errorData);\r\n                setErrorMessage(\"Failed to register user.\");\r\n            }\r\n        } catch (error) {\r\n            console.error('Error:', error);\r\n            setErrorMessage(\"The Email you've Entered Is Already In Use.\");\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"OuterForm\">\r\n            <form className=\"FormSign\" onSubmit={handleSubmit}>\r\n                <div className=\"Picon\">\r\n                    <h2>Register to StoryShelf</h2>\r\n                </div>\r\n                <div className=\"Inline\">\r\n                    <div className=\"form-group\">\r\n                        <input type=\"text\" name=\"firstname\" className=\"form-control\" id=\"firstname\" placeholder=\"First Name\" required value={formData.firstname} onChange={handleChange}/>\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <input type=\"text\" name=\"lastname\" className=\"form-control\" id=\"lastname\" placeholder=\"Last Name\" required value={formData.lastname} onChange={handleChange}/>\r\n                    </div>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <select className=\"form-control\" name=\"gender\" required value={formData.gender} onChange={handleChange}>\r\n                        <option value=\"\" disabled>\r\n                            Select Your Gender\r\n                        </option>\r\n                        <option value=\"Male\">Male</option>\r\n                        <option value=\"Female\">Female</option>\r\n                    </select>\r\n                </div>\r\n                <div className=\"date\">\r\n                    <input type=\"date\" required name=\"date\" className=\"dateGo\" id=\"dateExample\" value={formData.date} onChange={handleChange}/>\r\n                    <input type=\"text\" required name=\"address\" className=\"form-control\" id=\"addressname\" aria-describedby=\"adresshelp\" placeholder=\"Address\" value={formData.address} onChange={handleChange}/>\r\n                </div>\r\n                <div className=\"EmandPas\">\r\n                    <input type=\"email\" required name=\"email\" className=\"form-control\" id=\"exampleInputEmail1\" aria-describedby=\"emailHelp\" placeholder=\"Enter email\" value={formData.email} onChange={handleChange}/>\r\n                    <input type=\"password\" required name=\"password\" className=\"form-control\" id=\"exampleInputPassword\" placeholder=\"Password\" value={formData.password} onChange={handleChange}/>\r\n                </div>\r\n                <div className=\"Jaype\">\r\n                    {errorMessage && <p id=\"jaypara\">{errorMessage}</p>}\r\n                </div>\r\n                <div className=\"Inline\">\r\n                    <button type=\"submit\">Sign Up</button>\r\n                    <p id=\"btnext3\">\r\n                        Already have an Account? <Link to=\"/\" activeClassName=\"active\">Log In</Link>\r\n                    </p>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Signup;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}